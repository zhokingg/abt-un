# Monitoring and Alerting Configuration Example
# Copy this file to .env and configure your settings

# =================================
# GLOBAL MONITORING SETTINGS
# =================================
NODE_ENV=development
ENABLE_MONITORING=true
ENABLE_ALERTING=true
ENABLE_DASHBOARD=true

# Monitoring intervals (in milliseconds)
HEALTH_CHECK_INTERVAL=30000
METRICS_COLLECTION_INTERVAL=15000
PERFORMANCE_ANALYSIS_INTERVAL=60000

# Data retention (in days)
METRICS_RETENTION_DAYS=30
LOGS_RETENTION_DAYS=14
INCIDENT_RETENTION_DAYS=90

# =================================
# DASHBOARD CONFIGURATION
# =================================
DASHBOARD_PORT=3000
DASHBOARD_API_PORT=3000
DASHBOARD_API_HOST=0.0.0.0
DASHBOARD_UPDATE_INTERVAL=1000
DASHBOARD_RETENTION_PERIOD=86400000

# Dashboard authentication
DASHBOARD_AUTH=true
DASHBOARD_AUTH_METHOD=token
DASHBOARD_AUTH_TOKENS=dashboard-token-123,admin-token-456
DASHBOARD_SESSION_TIMEOUT=86400000

# Dashboard features
DASHBOARD_WEBSOCKET=true
DASHBOARD_REST_API=true
DASHBOARD_CORS=true
DASHBOARD_RATE_LIMIT=true
DASHBOARD_RATE_WINDOW=900000
DASHBOARD_RATE_MAX=100
DASHBOARD_MAX_CONNECTIONS=100
DASHBOARD_CACHING=true
DASHBOARD_CACHE_TIMEOUT=30000
DASHBOARD_MOBILE_API=true
DASHBOARD_EXPORT=true
DASHBOARD_ALERT_MANAGEMENT=true
DASHBOARD_CONFIGURATION=true

# =================================
# ALERT MANAGER CONFIGURATION
# =================================

# Rate limiting
ALERT_RATE_LIMIT_WINDOW=60000
ALERT_MAX_PER_WINDOW=50

# Throttling
ALERT_THROTTLE_ENABLED=true
ALERT_THROTTLE_WINDOW=30000
ALERT_MAX_DUPLICATES=3

# =================================
# DISCORD ALERTS
# =================================
ENABLE_DISCORD_ALERTS=false
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# =================================
# TELEGRAM ALERTS
# =================================
ENABLE_TELEGRAM_ALERTS=false
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN
TELEGRAM_CHAT_IDS=123456789,987654321

# =================================
# EMAIL ALERTS
# =================================
ENABLE_EMAIL_ALERTS=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_RECIPIENTS=admin@yourcompany.com,alerts@yourcompany.com

# =================================
# SLACK ALERTS
# =================================
ENABLE_SLACK_ALERTS=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#alerts

# =================================
# SMS ALERTS (TWILIO)
# =================================
ENABLE_SMS_ALERTS=false
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890
SMS_RECIPIENTS=+1234567890,+0987654321

# =================================
# PUSH NOTIFICATIONS
# =================================
ENABLE_PUSH_ALERTS=false
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_CONTACT=mailto:admin@yourcompany.com

# =================================
# WEBHOOKS
# =================================
ENABLE_WEBHOOK_ALERTS=false
WEBHOOK_ENDPOINTS=https://api.yourservice.com/webhooks/alerts
WEBHOOK_AUTH_TOKEN=your_webhook_auth_token

# =================================
# HEALTH MONITOR CONFIGURATION
# =================================
DEPENDENCY_CHECK_INTERVAL=60000
PERFORMANCE_CHECK_INTERVAL=15000
UPTIME_THRESHOLD=99.5
RESPONSE_TIME_THRESHOLD=5000
ENABLE_AUTO_RECOVERY=true
MAX_RECOVERY_ATTEMPTS=3

# Health score weights (should sum to 1.0)
HEALTH_WEIGHT_AVAILABILITY=0.3
HEALTH_WEIGHT_PERFORMANCE=0.25
HEALTH_WEIGHT_RESOURCES=0.2
HEALTH_WEIGHT_DEPENDENCIES=0.15
HEALTH_WEIGHT_ERRORS=0.1

# =================================
# PERFORMANCE ANALYZER CONFIGURATION
# =================================
PERFORMANCE_TRACKING_INTERVAL=5000
PERFORMANCE_METRICS_RETENTION=86400000

# Performance targets
TARGET_RPC_LATENCY=100
TARGET_EXECUTION_TIME=30000
TARGET_MEMORY_USAGE=512
TARGET_CPU_USAGE=70
TARGET_SUCCESS_RATE=95

# Alert thresholds
ALERT_LATENCY_SPIKE=5.0
ALERT_MEMORY_LEAK=1.5
ALERT_ERROR_RATE_SPIKE=3.0

# =================================
# LOG ANALYZER CONFIGURATION
# =================================
LOG_DIRECTORY=./logs
LOG_LEVEL=info
MAX_LOG_FILES=20
MAX_LOG_SIZE=100m
LOG_COMPRESSION=true
LOG_RETENTION_DAYS=30

# Log streaming
LOG_STREAMING=true
LOG_STREAMING_PORT=3001
LOG_MAX_STREAMING_CLIENTS=10

# Log analysis features
LOG_PATTERN_RECOGNITION=true
LOG_ANOMALY_DETECTION=true
LOG_ERROR_CLASSIFICATION=true
LOG_PERFORMANCE_LOGGING=true
LOG_TIMING_ANALYSIS=true
LOG_BOTTLENECK_DETECTION=true

# =================================
# INFRASTRUCTURE MONITOR CONFIGURATION
# =================================
INFRA_MONITORING_INTERVAL=15000
INFRA_NETWORK_CHECK_INTERVAL=30000
INFRA_RESOURCE_CHECK_INTERVAL=10000
INFRA_RPC_CHECK_INTERVAL=20000

# Infrastructure thresholds
INFRA_LATENCY_THRESHOLD=1000
INFRA_BANDWIDTH_THRESHOLD=80
INFRA_CPU_THRESHOLD=85
INFRA_MEMORY_THRESHOLD=90
INFRA_DISK_THRESHOLD=85

# Rate limiting
INFRA_RPC_RATE_LIMIT=100
INFRA_API_RATE_LIMIT=200

# Auto-optimization
INFRA_AUTO_OPTIMIZATION=true

# =================================
# INCIDENT MANAGER CONFIGURATION
# =================================
INCIDENT_DETECTION_INTERVAL=30000
INCIDENT_ANOMALY_THRESHOLD=3.0
INCIDENT_CASCADE_TIMEOUT=300000

# Response settings
INCIDENT_AUTO_RESPONSE=true
INCIDENT_FAILOVER=true
INCIDENT_SELF_HEALING=true

# Escalation
INCIDENT_ESCALATION_TIMEOUT=600000
INCIDENT_MAX_ESCALATION=critical

# Recovery
INCIDENT_RECOVERY_TIMEOUT=120000
INCIDENT_MAX_RECOVERY_ATTEMPTS=3

# =================================
# RPC PROVIDERS
# =================================
INFURA_MAINNET_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
INFURA_API_KEY=your_infura_project_id

ALCHEMY_MAINNET_URL=https://eth-mainnet.alchemyapi.io/v2/YOUR_API_KEY
ALCHEMY_API_KEY=your_alchemy_api_key

CLOUDFLARE_ETH_URL=https://cloudflare-eth.com

QUICKNODE_URL=https://your-quicknode-endpoint.quiknode.pro/your-token/
QUICKNODE_API_KEY=your_quicknode_api_key

# =================================
# EXTERNAL API KEYS
# =================================
COINGECKO_API_KEY=your_coingecko_api_key
ETHERSCAN_API_KEY=your_etherscan_api_key
DEXSCREENER_API_KEY=your_dexscreener_api_key

# =================================
# WEBSOCKET ENDPOINTS
# =================================
ENABLE_MEMPOOL_WS=true
ENABLE_FLASHBOTS_WS=true
ENABLE_UNISWAP_WS=true

# =================================
# DATABASE CONFIGURATION
# =================================

# Time-series database (memory, influxdb, timescaledb)
TIMESERIES_DB_TYPE=memory
TIMESERIES_DB_HOST=localhost
TIMESERIES_DB_PORT=8086
TIMESERIES_DB_NAME=arbitrage_metrics
TIMESERIES_DB_USER=your_db_user
TIMESERIES_DB_PASS=your_db_password
TIMESERIES_RETENTION=30d

# Redis cache
ENABLE_REDIS=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_KEY_PREFIX=arbitrage:monitoring:

# =================================
# SECURITY CONFIGURATION
# =================================
ENCRYPTION_KEY=your_32_character_encryption_key_here!

# IP rate limiting
IP_RATE_WINDOW=900000
IP_RATE_MAX=1000

# Audit logging
AUDIT_LOGGING=true
AUDIT_LOG_LEVEL=info
AUDIT_INCLUDE_BODY=false
AUDIT_INCLUDE_RESPONSE=false

# =================================
# EXAMPLE PRODUCTION SETTINGS
# =================================
# For production deployment, consider these settings:
#
# NODE_ENV=production
# LOG_LEVEL=warn
# DASHBOARD_AUTH=true
# ALERT_RATE_LIMIT_WINDOW=60000
# ALERT_MAX_PER_WINDOW=100
# ENABLE_REDIS=true
# TIMESERIES_DB_TYPE=influxdb
# AUDIT_LOGGING=true
# 
# Enable critical alerts:
# ENABLE_DISCORD_ALERTS=true
# ENABLE_TELEGRAM_ALERTS=true
# ENABLE_EMAIL_ALERTS=true
# ENABLE_SMS_ALERTS=true
#
# Set conservative thresholds:
# TARGET_SUCCESS_RATE=98
# INFRA_CPU_THRESHOLD=75
# INFRA_MEMORY_THRESHOLD=85